--Tabla comentarios
CREATE TABLE comentarios (
    id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    usuario_id INT UNSIGNED NOT NULL,
    comentario TEXT,
    fecha DATETIME,
    cantidad_estrellas INT,
    PRIMARY KEY(id),
    FOREIGN KEY(usuario_id) REFERENCES usuarios(id)
)
DEFAULT CHARSET=utf8mb4
COLLATE=utf8mb4_unicode_ci;

-- Luego se insertan datos de forma aleatoria con esta sentencia pero lo ejecutarÃ© 100 veces para que me de los 100 registros que quiero

INSERT INTO comentarios (usuario_id, comentario, cantidad_estrellas) VALUES
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Con la Ãºltima actualizaciÃ³n no sÃ© si se estÃ¡ respetando el nÃºmero de comidas que paguÃ© dentro de los planes anteriores, no sÃ© quÃ© tan legal sea esto de que cambien de la nada los planes sin avisar despuÃ©s de que ya estÃ©n pagos', 3),
(    
    (SELECT ROUND(RAND()*49+1)
     ), 'Todo iba bien hasta que actualizaron el app el 16 de junio. Con la actualizaciÃ³n me han dado un saldo en dinero sustituyendo el sistema de creditos anterior. Sin ninguna explicaciÃ³n de la converciÃ³n. Lo que yo puedo asumir segun los nuevos precios (han subido) es que antes yo accedia a 20 almuerzos y cenas por 480 soles. Ahora mi plan cuesta 495 soles y puedo acceder 18 almuerzos y cenas. Es mas caro y me dan menos.', 1),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'La comida es cara. La calidad de sus productos no es bueno, la sazÃ³n hay dÃ­as que son bueno y a veces malos. El Ã¡rea de servicio al cliente ha cambiado para mal, tuve una queja con mi comida y lo Ãºnico que recibÃ­ fue un correo que mi petecion fue aceptada pero no hubo mÃ¡s retroalimentacion. Lo uso porque no tengo tiempo para cocinar. Sin embargo no ayuda para cuidar un rÃ©gimen calorico correcto.', 2
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Las opciones y la calidad de los alimentos es buena ... El Ãºnico detalle o falla es que es muy poca proteÃ­na, estarÃ­a genial que bajaran la cantidad de carbohidratos y aumentar la proteÃ­na para que sean Excelentes', 4
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Desde la Ãºltima actualizaciÃ³n ahora el plan mensual solo alcanza para 17 pedidos, antes alcanzaba para 20 por el mismo precio, yo paguÃ© por 20 pedidos y automÃ¡ticamente al actualizar he perdido 3 almuerzos, al reclamar me comentaron que los almuerzos de 600kcal cuestan 15.50, lo cual fue una mentira y no me dejaron demostrarles con un pantallazo que los almuerzos de 600kcal estaban a 17.50, ya que me cerraron el chat antes de poder hacerlo, en resumen me han robado y no puedo reclamar', 1
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Lo Ãºnico bueno es que son puntuales con la entrega,pÃ©sima comida l@ porciones demaciado pequeÃ±as un poco de arroz crudo,y lo peor de todo es que con tanta queja no tratan de mejorar.', 1
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Tengo mÃ¡s tiempo para mÃ­ y no me preocupo de si comerÃ© saludable mÃ¡s tarde. Me gusta mucho', 5
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Siento que las fotos no se acercan a la realidad del plato. No puedo ajustar cosas en el plato o por gusto o por alergia a ciertas cosas asÃ­ q eso lo desecho. Algunas comidas parecen trasnochadas. Depende del lugar en donde estÃ© la. Calidad baja', 3
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Horrible ya no lo utilicen. Ya no tienes comida solo saldo y te quitan tus comidas ya compradas antes te daban 20 dÃ­as pero ahora solo 14 es una estafa gigante.', 1
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'La comida es muy buena y saludable. Han mejorado los tiempos de entrega, a veces llegan a tener retrasos importantes.', 4
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Muy buena app, me ha ayudado en mi salud y poder conseguir mi objetivo.', 5
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Les comento mi experiencia, fue terrible, me llego la comida en un estado terrible, aplastada y cuando me reposiciÃ³n el pedido la persona que hace el delivery terrible actitud solo porque le dije que iba a verificar que llego correcto se molesto.', 1
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Es buena aunque aveces me pierdo cuando quiero programar un pedido para el dÃ­a siguiente.', 4
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Parece porciones pequeÃ±as pero si te llenas, el sabor es ligero pero estÃ¡ rico, tiene opciÃ³n para agregar picante extra y puedes modificar si quieres bajar de peso o solo comer saludable. El repartidor muy muy amable', 5
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Respecto al app, muy buena interface', 5
), 
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Son cumplidos con los pedidos, pero a veces la comida no corresponde a las fotos que muestran', 4
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Bastante buena muy sencilla de usar con muchas opciones Ãºtiles para llevar un buen estilo de alimentaciÃ³n', 5
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'El menu ha mejorado significativamente desde que los empecÃ© a usar. Muy bueno y recomendado.', 5
), 
(
     (SELECT ROUND(RAND()*49+1)
     ), 'El precio es muy caro para las porciones de proteÃ­na que ofrecen. Casi todos los platillos llegan a la aportaciÃ³n calÃ³rica necesaria con arroz y/o pasta. Esto va a arruinar cualquier dieta pues es muy difÃ­cil conservar el dÃ©ficit consumiendo calorias simples. SÃ³lo recomiendo si no estÃ¡n en un rÃ©gimen muy apretado y estÃ¡n dispuestos a pagar la comida un poco cara, pues el servicio de entrega es bueno, pero si lo usas para llegar a cierta meta de consumo, con esta app, simplemente no se puede', 3 
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Excelente servicio, comida de buena calidad y buen sabor, y porciones bastante buenas.', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Excelente, muy fÃ¡cil de usar te facilita todo.', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Comida es deliciosa muy balanceada y variada los domiciliarios son cumplidos y amables
', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es una opciÃ³n prÃ¡ctica y el app hace todo muy sencillo. SugerirÃ­a mejorar en la cantidad de proteÃ­na y vegetales que hay en las comidas.', 4
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Los productos que ofrecen son buenos tienen buen sabor pero el precio es muy alto para tan poco y sin bebida, deberÃ­an dar la bebida q se justifique el costo y la compra del producto', 4
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Muy buen servicio, me han gustado bastante la variedad de platos y son muy rÃ¡pidos con sus entregas
', 5
), 
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es una buena opcion para las personas que no siempre tienen tiempo de cocinar, el sabor se compara con algo casero, hay platilos muy buenos, mientras que en otro se nota que se pudieron esmerar mas
', 4
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Sin duda alguna una gran ayuda cuando no se tiene el espacio para cocinar, muy rico, hay mucha variedad pero sobre todo muy nutritivo.
', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Porciones que dan pena, hasta mi hija quedaba con hambre.
', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Funciona! Ya llevo mas de un mes con la aplicacion. He bajado de peso y ademas, ya no pienso en el almuerzo. Hago el pedido los domingos y toda la semana llega a la porteria. Delicioso y variado.
', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Comida de mala calidad, muy chiquitas las porciones y muy poca proteÃ­na. AdemÃ¡s despuÃ©s de inscribir la tarjeta de crÃ©dito me han hechos varios dÃ©bitos y nadie responde.... Un peligro!!!!
', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Me ha gustado sus platos, dejarÃ­a como mejora que la lechuga no la piquen grande
', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Comida saludable y variada, atenciÃ³n oportuna
', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Buena opciÃ³n para comida saludable. Recomendado
', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Muy regular, las porciones son pequeÃ±as, el plato no es gran cosa una proteÃ­na no muy grande, un poco de arroz o papa y un poquito de vegetales, el sabor es aceptable pero nada del otro mundo excepto en contadas ocasiones me sorprendieron.', 2
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Los almuerzos que ofrece manzana verde son variados eso hace que no te aburras de comer sanamente', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es muy intuitiva la app y tiene muchas funciones, ademÃ¡s que se puede ver en tiempo real cÃ³mo vas en la lista de entregas.', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es la mejor opciÃ³n de comida saludable, me encanta.', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Llevo una semana con el servicio y veo que la iniciativa es buena dentro del mercado, sin embargo lamentablemente la comida es muy poca, y eso que lo coloque con la opciÃ³n para engordar. Con el monto que uno paga veo que puedo adquirir almuerzos mucho mejores balanceados.', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es mi tercer almuerzo y siento que ya perdÃ­ mi plata. Vegetales viejos, carne incomible y cantidades industriales de arroz. No le veo lo saludable, productos de cero calidad y cada vez que llega me sorprende la terrible presentaciÃ³n. Si ud se quiere a sÃ­ mismo no la descargue, ni se emocione con las fotos de la comida, porque lo que llega no es ni la sombra.', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Rico y saludable', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'El app es un buen desarrollo la comida es muy poquita mal presentada y se nota que las verduras y demÃ¡s lo mantienen congelado y lo preparan al baÃ±o maria terrible experiencia gastronomica, recibire los platos faltantes de mi plan y me retirare no vale la pena el precio por lo que dan, mejor un restaurante de barrio toda la vida, Dan sopa por lo menos y es comida con una preparacion mÃ¡s elaborada, no pierdan su dinero como yo lo hice', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Mala calidad, la comida no estÃ¡ fresca, a veces no huele bien y se ve que tiene dÃ­as preparada, mala experiencia, no te regresan el dinero aunque ya no quieras el servicio por mala calidad. Ya los habÃ­a contactado y la respuesta fue que van a mejorar el servicio, que no me pueden regresar el dinero, me van a obligar a usar la app hasta que se me acaben los creditos, pero la calidad de la comida es muy importante para mi y prefiero servicios con estandares de calidad mÃ¡s elevados', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es una muy buena aplicaciÃ³n. Su comida saludable cambio para bien mis hÃ¡bitos. Muy contenta de haberlos encontrado y tener con Manzana Verde ya mÃ¡s de un aÃ±o', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Es una alternativa saludable, y que ahorra tiempo que puedes utilizar en otra actividad, no he tenido problemas con la plataforma, me parece amigable para el usuario. Adicional que tienen buena fidelizaciÃ³n de cliente', 5
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Me pareciÃ³ una idea genial poder comprar los almuerzos ya que uno a veces no tiene. Tiempo. Pero lastimosamente la comida es muy desabrida y muy poca proteÃ­na. La verdad para el precio deberian ofrecer algo mejor. OjalÃ¡ puedan mejorar porque la idea es buena. No creo que vaya a renovar el siguiente mes.', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Una opciÃ³n prÃ¡ctica y saludable', 4
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Terrible los platos que venden. Muestran una cosa y lo que llega no tiene coherencia con la cantidad de la foto Diana GÃ³mez compre el plan de prueba y menos mal probÃ© las porciones que envÃ­an dan es risa ðŸ˜„ no es ni para un niÃ±o de 6 aÃ±os. Les aconsejo que no pierdan su dinero. De verdad enviaron un vaso con un snack y tenÃ­a 5 mm de porciÃ³n', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Mala experiencia voy en el dÃ­a 5 ya ban dos almuerzos incomibles, la calidad mala, las porciones desbalanceadas mÃ¡s carbohidrato que otra cosa . Nada es fresco ni parecido a la foto.', 1
),
(
     (SELECT ROUND(RAND()*49+1)
     ), 'Comida rica y equilibrada', 4
),
(
    (SELECT ROUND(RAND()*49+1)
     ), 'Muy rico y buen precio', 5
);

-- Como algunos id de los usuarios se repetiran, tengo que corregirlos y que no se repitan ya que un usuario solo se le permite un comentario
-- Primero buscamos los id repetidos por rangos. Como son 50, vamos de 10 en 10

SELECT * FROM comentarios WHERE usuario_id >= 1 AND usuario_id <=10;

-- Ahora con update vamos cambiando los usuarios id repetidos por los que no se encuentran en la tabla
-- Ejemplo:
UPDATE comentarios
SET usuario_id = 30
WHERE id = 17;

-- Ya por Ãºltimo ponemos la fecha 

UPDATE reclamos 
SET fecha = DATE_ADD('2022-09-01', INTERVAL FLOOR(RAND() * (DATEDIFF('2022-12-31', '2022-09-01') + 1)) DAY) 
WHERE codigo >= 1
    AND codigo <= 50;
